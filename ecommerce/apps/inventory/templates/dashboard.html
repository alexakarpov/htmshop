{% extends 'base.html' %}
{% load static %}
{% block header %}
{% endblock header %}
{% block title %}
Inventory
{% endblock title %}

{% block content %}
<div class="container-fluid">

    <div class="tabset p-2">
        <!-- Tab 1 -->
        <input type="radio" name="tabset" id="wrapping" aria-controls="wrapping" checked>
        <label for="wrapping">Wrapping</label>
        <!-- Tab 2 -->
        <input type="radio" name="tabset" id="painting" aria-controls="painting">
        <label for="painting">Painting</label>
        <!-- Tab 3 -->
        <input type="radio" name="tabset" id="sanding" aria-controls="sanding">
        <label for="sanding">Sanding</label>

        <div class="tab-panels">

            {% for room in rooms %}
            <section id={{ room.slug }} class="tab-panel">
                <div class="h3">{{ room.name }} stock</div>

                <div class="row">
                    <div class="col border">
                        <div class="h4">Title</div>
                    </div>
                    <div class="col border">
                        <div class="h4">SKU</div>
                    </div>
                    <div class="col border">
                        <div class="h4">Quantity</div>
                    </div>
                </div>

                {% for item in room.stock_set.all %}
                <div class="row">
                    <div class="col border">{{ item.productinv }}</div>
                    <div class="col border">{{ item.productinv.sku }}</div>
                    <div class="col border">{{ item.quantity }}</div>
                </div>
                {% endfor %}
            </section>

            {% endfor %}
        </div>
    </div>

    <div class="h3 text-center">Worklist generation</div>
    <div class="row w-25">
        <form class="m-1" action="{% url 'inventory:printing_worklist' %}" method="get">
            <button type="submit" class="btn btn-block btn-success btn-sm w-50">Printing Worklist</button>
        </form>
    </div>
    <div class="row w-25">
        <form class="m-1" action="{% url 'inventory:sawing_worklist' %}" method="get">
            <button type="submit" class="btn btn-block btn-success btn-sm w-50">Sawing Worklist</button>
        </form>
    </div>
    <div class="row w-25">
        <form class="m-1" action="{% url 'inventory:sanding_worklist' %}" method="get">
            <button type="submit" class="btn btn-block btn-success btn-sm w-50">Sanding Worklist</button>
        </form>
    </div>
    <div class="row w-25">
        <form class="m-1" action="{% url 'inventory:mounting_worklist' %}" method="get">
            <button type="submit" class="btn btn-block btn-success btn-sm w-50">Mounting Worklist</button>
        </form>
    </div>

    <div class="row">

        <div class="h3 text-center">
            Inventory move
        </div>
        <form class="m-2" action="{% url 'inventory:move_stock' %}" method="post">
            {% csrf_token %}

            <p>
                <label for="id_to_room">To:</label>
                <select name="to_room" id="id_to_room">
                    <option value="nihil">nowhere</option>
                    <option value="sanding">Sanding room</option>
                    <option value="wrapping">Wrapping room</option>
                    <option value="painting">Painting room</option>
                </select>            
            </p>
            <p>
                <label for="id_from_room">From:</label>
                <select name="from_room" id="id_from_room">
                    <option value="nihil">nowhere</option>
                    <option value="sanding">Sanding room</option>
                    <option value="wrapping">Wrapping room</option>
                    <option value="painting">Painting room</option>
                </select>
            </p>

            <p>
                <label for="id_qty">Quantity:</label>
                <input type="number" name="qty" class="quantity" min="0" id="id_qty" required>
            </p>

            <p>
                <label for="id_sku">SKU:</label>
                <input type="text" name="sku" class="sku" maxlength="12" id="id_sku" required>
            </p>

            <button type="submit" class="btn btn-success m-3">Move stock</button>
        </form>

    </div>
</div>

</div>
{% endblock content %}

{% block footer %}
{% endblock footer %}