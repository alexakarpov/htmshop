{% extends "../base.html" %}
{% block title %}
  {% if category %}
    {{ category.name }}
  {% else %}
    Products
  {% endif %}
{% endblock %}
{% block content %}
  <h2 class="h2 p-3">{{ category|title }}</h2>
  <hr />
  <div class="container">
    <div class="album">
      {% if not products %}
        <div class="col-12">
          There are currently no products active <a href="{% url 'catalogue:home' %}">Home</a>
        </div>
      {% else %}
        {% if category.slug == 'icons-saints' %}
          <div class="row mb-3">
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='a' %}">A</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='b' %}">B</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='c' %}">C</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='d' %}">D</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='e' %}">E</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='f' %}">F</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='g' %}">G</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='h' %}">H</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='i' %}">I</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='j' %}">J</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='k' %}">K</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='l' %}">L</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='m' %}">M</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='n' %}">N</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='o' %}">O</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='p' %}">P</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='q' %}">Q</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='r' %}">R</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='s' %}">S</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='t' %}">T</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='u' %}">U</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='v' %}">V</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='w' %}">W</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='x' %}">X</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='y' %}">Y</a>
            </div>
            <div class="col">
              <a href="{% url 'catalogue:saints_filtered' letter='z' %}">Z</a>
            </div>
          </div>
        {% endif %}
        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-5 g-3">
          {% for product in page_obj %}
            <div class="col">
              <div class="card border-0">
                <a class="text-dark text-decoration-none"
                   href="{{ product.get_absolute_url }}">
                  <img class="img-fluid"
                       alt="Responsive image"
                       src="{{ product.image.url }}"
                       alt="{{ product.title }}">
                  <div class="card-body px-0">
                    <p class="card-text fw-bold">{{ product.title }}</p>
                  </a>
                </div>
              </div>
            </div>
          {% endfor %}
        </div>
        {% comment %}
          End of album?
        {% endcomment %}
        <nav aria-label="cat-nav">
          <ul class="pagination">
            {% if page_obj.has_previous %}
              <li class="page-item flex-fill">
                <a class="page-link" href="?page={{ page_obj.previous_page_number }}">PREVIOUS</a>
              </li>
            {% endif %}
            {% if page_obj.has_next %}
              <li class="page-item flex-fill">
                <a class="page-link" href="?page={{ page_obj.next_page_number }}">NEXT</a>
              </li>
              <li class="page-item flex-fill">
                <a class="page-link" href="?page={{ page_obj.paginator.num_pages }}">LAST &raquo</a>
              </li>
            {% endif %}
          </ul>
          <div class="fw-bold d-flex">
            Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
          </div>
        </nav>
      {% endif %}
    </div>
  </div>
{% endblock %}
